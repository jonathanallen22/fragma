<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FRAGMA - Syntax F1</title>
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.128.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.128.0/examples/jsm/"
            }
        }
    </script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

    <header id="global-header" class="hidden">
        <div class="header-left">

            <img src="assets/images/logo_fragma.svg" alt="FRAGMA" class="header-logo-img">
        </div>
        <div class="header-center">Syntax F-1</div>
        <div class="header-right">Beta experience</div>
    </header>

    <section id="scene-intro" class="scene active">
        <div id="canvas-container-intro"></div>
        <div class="intro-top"><img src="assets/images/logo_fragma.svg" alt="FRAGMA" class="logo-svg"></div>
        <div class="intro-center">
            <div class="meta">Syntax F-1</div>
            <div class="mono">Beta Experience</div>
        </div>
        <footer class="footer-intro">
            <p class="scan-effect">PRESS TO START</p>
        </footer>
    </section>

    <section id="scene-instructions" class="scene hidden">
        <div class="centered-text">
            <h1 class="instruct-line line-1">READ AND CHOOSE</h1>
            <h1 class="instruct-line line-2">MODIFY THE TEXT</h1>
            <h1 class="instruct-line line-3">CHANGE REALITY</h1>
        </div>
    </section>

    <section id="scene-carousel" class="scene hidden">
        <div class="carousel-title-box"><h2>SELECT A PARAGRAPH TO MANIPULATE</h2></div>
        <div class="carousel-viewport"><div id="carousel-track"></div></div>
        <footer class="carousel-footer">
            <p class="knob-instruction">MOVE THE KNOB AND CHOOSE</p>
            <div class="knob-icon">
                <svg width="50" height="30" viewBox="0 0 100 60">
                    <ellipse cx="50" cy="15" rx="40" ry="12" fill="none" stroke="#FF4824" stroke-width="2"/>
                    <path d="M10 15 v20 a40 12 0 0 0 80 0 v-20" fill="none" stroke="#FF4824" stroke-width="2"/>
                    <line x1="50" y1="27" x2="50" y2="55" stroke="#FF4824" stroke-width="2"/>
                </svg>
            </div>
        </footer>
    </section>

    <section id="scene-edit" class="scene hidden">
        <div class="edit-text-wrapper">
            <h2 id="edit-headline">TITOLO NOTIZIA...</h2>
            <div class="scrolling-body">
                <p id="edit-body">Corpo della notizia...</p>
            </div>
        </div>

        <div id="graph-container"></div>

        <div class="edit-footer">
            <div class="temp-controls">
                <div class="slider-row"><span>OPC</span><input type="range" id="param-opacita" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>DEU</span><input type="range" id="param-deumanizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>POL</span><input type="range" id="param-polarizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>ASS</span><input type="range" id="param-assertivita" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>MOR</span><input type="range" id="param-moralizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>EMO</span><input type="range" id="param-emotivo" class="cyber-range" min="0" max="100" value="0"></div>
            </div>

            <div class="footer-decoration">
                <span class="pedine-label"> POSIZIONA LE PEDINE</span>
                <div id="mini-totem-container"></div>
            </div>
        </div>
    </section>

<section id="scene-processing" class="scene hidden">
        <div id="stripes-container"></div>
        
        <div class="vignette-overlay"></div>
        
        <div class="processing-container">
            <div class="processing-header">
                <span class="system-msg">REWRITING REALITY...</span>
            </div>
            <div class="card-ghost">
                <h3 id="proc-headline">TITOLO...</h3>
                <p id="proc-body">Corpo...</p>
            </div>
        </div>
    </section>

    <section id="scene-impact" class="scene hidden">
        <div class="impact-container">
            
            <div class="impact-header-ui">
                <div class="ui-corner-tl">SIMULATION_RESULT_V.1.0</div>
                <div class="ui-corner-tr">SECURE_CONNECTION</div>
            </div>

            <div class="news-preview-container">
                <div class="news-header">
                    <img src="assets/images/corriere.svg" class="news-logo-final" id="final-logo">
                    <div class="news-meta">
                        <span id="final-date">2 DICEMBRE 2025</span>
                        <span id="final-author">DI ALESSIA CONZONATO</span>
                    </div>
                </div>
                <h1 id="final-headline" class="news-headline">TITOLO FINALE GENERATO</h1>
                <p id="final-body" class="news-body">
                    Testo della notizia...
                </p>
            </div>

            <div class="impact-divider"></div>

            <div class="dashboard-grid">
                
                <div class="dash-card">
                    <span class="dash-label">Indice Stimolazione Amigdala (Fear Trigger)</span>
                    <div class="viz-container" id="viz-brain">
                        </div>
                    <div class="data-readout">
                        <div>Attivazione Area 1: <span id="val-amygdala" class="highlight-text">+0%</span></div>
                        <div>Attivazione Area 2: <span id="val-cortex" class="highlight-text">+0%</span></div>
                    </div>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Persistenza Memoria (Retention Score)</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <line x1="10" y1="10" x2="10" y2="90" stroke="#666" stroke-width="1" />
                            <line x1="10" y1="90" x2="190" y2="90" stroke="#666" stroke-width="1" />
                            <rect id="bar-orig" x="30" y="50" width="40" height="40" fill="none" stroke="#666" stroke-width="1" stroke-dasharray="2,2"/>
                            <rect id="bar-new" x="90" y="20" width="40" height="70" fill="rgba(255, 72, 36, 0.2)" stroke="#FF4824" stroke-width="2"/>
                            <path d="M185 85 L190 90 L185 95" fill="none" stroke="#FF4824" />
                        </svg>
                    </div>
                    <p class="dash-desc">Imprint Cognitivo: <span id="text-memory">Permanente</span>. <br>Bypass memoria a breve termine.</p>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Inibizione Pensiero Critico</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <path d="M20 90 A 80 80 0 0 1 180 90" fill="none" stroke="#333" stroke-width="2"/>
                            <path id="gauge-path" d="M20 90 A 80 80 0 0 1 180 90" fill="none" stroke="#FF4824" stroke-width="4" stroke-dasharray="0, 300"/>
                            <line id="gauge-needle" x1="100" y1="90" x2="100" y2="20" stroke="#fff" stroke-width="1" />
                            <path id="gauge-area" d="M100 90 L100 20 A 70 70 0 0 1 170 90 Z" fill="url(#hatch)" opacity="0" />
                            <defs>
                                <pattern id="hatch" width="4" height="4" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
                                    <rect width="2" height="4" transform="translate(0,0)" fill="#FF4824"></rect>
                                </pattern>
                            </defs>
                        </svg>
                    </div>
                    <div class="data-readout">
                        <div>Analisi Logica: <span id="val-logic">100%</span></div>
                        <div>Accettazione Subconscia: <span id="val-sub">0%</span></div>
                    </div>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Potenziale di Diffusione (Viral Factor)</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <line x1="10" y1="90" x2="190" y2="90" stroke="#666" />
                            <line x1="10" y1="10" x2="10" y2="90" stroke="#666" />
                            <path id="viral-curve" d="M10 90 Q 50 90 180 20" fill="none" stroke="#FF4824" stroke-width="2" />
                            <circle id="viral-dot" cx="180" cy="20" r="3" fill="#FF4824" />
                        </svg>
                    </div>
                    <p class="dash-desc align-right">Viralità stimata: <span id="val-viral" class="big-stat">1.0x</span></p>
                </div>

                <div class="dash-card full-width">
                    <span class="dash-label">Frammentazione Consenso (Echo Chambers)</span>
                    <div class="viz-container center-flex">
                        <svg viewBox="0 0 300 100" class="graph-svg">
                            <circle id="venn-left" cx="130" cy="50" r="40" fill="none" stroke="#FF4824" stroke-width="1.5" />
                            <circle id="venn-right" cx="170" cy="50" r="40" fill="none" stroke="#FF4824" stroke-width="1.5" />
                            <path id="venn-conflict" d="M150 20 L150 80" stroke="#FF4824" stroke-width="1" stroke-dasharray="2,2" opacity="0.5"/>
                        </svg>
                    </div>
                    <p class="dash-desc center-text">Coesione Sociale: <span id="val-cohesion">-0%</span>. <br>Alta probabilità di polarizzazione irreversibile.</p>
                </div>

            </div>

            <div class="final-action-area">
                <div class="blink-warning">SIMULAZIONE IMPATTO COMPLETATA</div>
                <button id="btn-confirm-publish" class="scan-effect-btn">PREMERE A LUNGO PER CONFERMARE</button>
            </div>

        </div>
    </section>

    <script type="module" src="js/main.js"></script>
</body>
</html>