<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FRAGMA - Syntax F1</title>
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.128.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.128.0/examples/jsm/"
            }
        }
    </script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

    <header id="global-header" class="hidden">
        <div class="header-left">

            <img src="assets/images/logo_fragma.svg" alt="FRAGMA" class="header-logo-img">
        </div>
        <div class="header-center">SYNTAX F-1</div>
        <div class="header-right">BETA EXPERIENCE</div>
    </header>

    <section id="scene-intro" class="scene active">
        <div id="canvas-container-intro"></div>
        <div class="intro-top"><img src="assets/images/logo_fragma.svg" alt="FRAGMA" class="logo-svg"></div>
        <div class="intro-center">
            <div class="meta">SYNTAX F-1</div>
            <div class="mono">Beta Experience</div>
        </div>
        <footer class="footer-intro">
            <p class="scan-effect">PRESS TO START</p>
        </footer>
    </section>

    <section id="scene-instructions" class="scene hidden">
        <div class="centered-text">
            <h1 class="instruct-line line-1">READ AND CHOOSE</h1>
            <h1 class="instruct-line line-2">MODIFY THE TEXT</h1>
            <h1 class="instruct-line line-3">CHANGE REALITY</h1>
        </div>
    </section>

    <section id="scene-carousel" class="scene hidden">
        <div class="carousel-title-box"><h2>SELECT A PARAGRAPH TO MANIPULATE</h2></div>
        <div class="carousel-viewport"><div id="carousel-track"></div></div>
        <footer class="carousel-footer">
            <div class="knob-icon">
                <svg width="50" height="30" viewBox="0 0 100 60">
                    <ellipse cx="50" cy="15" rx="40" ry="12" fill="none" stroke="#FF4824" stroke-width="2"/>
                    <path d="M10 15 v20 a40 12 0 0 0 80 0 v-20" fill="none" stroke="#FF4824" stroke-width="2"/>
                    <line x1="50" y1="27" x2="50" y2="55" stroke="#FF4824" stroke-width="2"/>
                </svg>
            </div>
            <p class="knob-instruction">MOVE THE KNOB AND CHOOSE</p>
            
        </footer>
    </section>

    <section id="scene-edit" class="scene hidden">
        <div class="edit-text-wrapper">
            <h2 id="edit-headline">TITOLO NOTIZIA...</h2>
            <div class="scrolling-body">
                <p id="edit-body">Corpo della notizia...</p>
            </div>
        </div>

        <div id="graph-container"></div>

         <div id="param-info-container" class="hidden">
            <h3 id="param-info-title">NOME PARAMETRO</h3>
            <p id="param-info-desc">Descrizione della funzione del parametro...</p>
        </div>

        <div class="edit-footer">
            <div class="temp-controls">
                <div class="slider-row"><span>OPC</span><input type="range" id="param-opacita" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>DEU</span><input type="range" id="param-deumanizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>POL</span><input type="range" id="param-polarizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>ASS</span><input type="range" id="param-assertivita" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>MOR</span><input type="range" id="param-moralizzazione" class="cyber-range" min="0" max="100" value="0"></div>
                <div class="slider-row"><span>EMO</span><input type="range" id="param-emotivo" class="cyber-range" min="0" max="100" value="0"></div>
            </div>

            <div footer class="carousel-footer">
                <div class="knob-icon" id="pedina"> 
                   <svg width="103" height="303" viewBox="0 0 103 303" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_149_121)">
                    <path d="M76.78 271.93H25.59L0 287.26L25.59 302.59H76.78L102.37 287.26L76.78 271.93Z" fill="#FF340C"/>
                    <path d="M35.7002 56.0703C25.2902 109.88 14.8802 163.69 4.47021 217.5C12.2602 222.26 20.0402 227.02 27.8302 231.79H74.5402C82.3302 227.03 90.1102 222.27 97.9002 217.5C87.4402 163.69 76.9802 109.88 66.5202 56.0703" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M89.1902 11.35C82.8602 7.9 76.5202 4.45 70.1902 1H32.1802L13.1802 11.35" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M13.1802 11.3701C19.5102 14.8201 25.8502 18.2701 32.1802 21.7201H70.1902L89.1902 11.3701" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M35.3701 55.5596C37.9701 57.2696 40.5601 58.9796 43.1601 60.6896H58.7301L66.5201 55.5596" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M66.52 56.0696C74.08 41.1596 81.63 26.2596 89.19 11.3496" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M35.7002 56.0696C28.1902 41.1596 20.6902 26.2596 13.1802 11.3496" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M43.1601 60.6904C38.0501 117.72 32.9401 174.75 27.8301 231.78" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M58.73 60.6904C64 117.72 69.27 174.75 74.54 231.78" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M43.1602 60.6897C39.5002 47.6997 35.8402 34.7097 32.1802 21.7197" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M58.73 60.6897C62.55 47.6997 66.37 34.7097 70.19 21.7197" stroke="#FF340C" stroke-width="2" stroke-miterlimit="10"/>
                    <path d="M46.7699 14.2702L39.9199 14.3102L39.9599 12.0302L46.8099 11.9902L46.7699 14.2702Z" fill="#FF340C"/>
                    <path d="M61.9199 14.1696L54.4199 14.2196L48.6099 11.9796L61.9699 11.8896L61.9299 14.1696H61.9199Z" fill="#FF340C"/>
                    <path d="M62.03 8.44992L47.12 8.54992H46.88V8.78992L46.83 11.2899L40.02 8.74992L40.07 6.30992L62.08 6.16992L62.04 8.44992H62.03Z" fill="#FF340C"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_149_121">
                    <rect width="102.37" height="302.59" fill="white"/>
                    </clipPath>
                    </defs>
                    </svg>
 
                </div>
                 <p class="knob-instruction">POSIZIONA LE PEDINE </p>
                
            </div>
        </div>
    </section>

<section id="scene-processing" class="scene hidden">
        <div id="stripes-container"></div>
        
        <div class="vignette-overlay"></div>
        
        <div class="processing-container">
            <div class="processing-header">
                <span class="system-msg">REWRITING REALITY...</span>
            </div>
            <div class="card-ghost">
                <h3 id="proc-headline">TITOLO...</h3>
                <p id="proc-body">Corpo...</p>
            </div>
        </div>
    </section>

    <section id="scene-impact" class="scene hidden">
        <div class="impact-container">
            
            <div class="impact-header-ui">
                <div class="ui-corner-tl">SIMULATION_RESULT_V.1.0</div>
                <div class="ui-corner-tr">SECURE_CONNECTION</div>
            </div>

            <div class="news-preview-container">
                <div class="news-header">
                    <img src="assets/images/corriere.svg" class="news-logo-final" id="final-logo">
                    <div class="news-meta">
                        <span id="final-date">2 DICEMBRE 2025</span>
                        <span id="final-author">DI ALESSIA CONZONATO</span>
                    </div>
                </div>
                <h1 id="final-headline" class="news-headline">TITOLO FINALE GENERATO</h1>
                <p id="final-body" class="news-body">
                    Testo della notizia...
                </p>
            </div>

            <div class="impact-divider"></div>

            <div class="dashboard-grid">
                
                <div class="dash-card">
                    <span class="dash-label">Indice Stimolazione Amigdala (Fear Trigger)</span>
                    <div class="viz-container" id="viz-brain">
                        </div>
                    <div class="data-readout">
                        <div>Attivazione Area 1: <span id="val-amygdala" class="highlight-text">+0%</span></div>
                        <div>Attivazione Area 2: <span id="val-cortex" class="highlight-text">+0%</span></div>
                    </div>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Persistenza Memoria (Retention Score)</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <line x1="10" y1="10" x2="10" y2="90" stroke="#666" stroke-width="1" />
                            <line x1="10" y1="90" x2="190" y2="90" stroke="#666" stroke-width="1" />
                            <rect id="bar-orig" x="30" y="50" width="40" height="40" fill="none" stroke="#666" stroke-width="1" stroke-dasharray="2,2"/>
                            <rect id="bar-new" x="90" y="20" width="40" height="70" fill="rgba(255, 72, 36, 0.2)" stroke="#FF4824" stroke-width="2"/>
                            <path d="M185 85 L190 90 L185 95" fill="none" stroke="#FF4824" />
                        </svg>
                    </div>
                    <p class="dash-desc">Imprint Cognitivo: <span id="text-memory">Permanente</span>. <br>Bypass memoria a breve termine.</p>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Inibizione Pensiero Critico</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <path d="M20 90 A 80 80 0 0 1 180 90" fill="none" stroke="#333" stroke-width="2"/>
                            <path id="gauge-path" d="M20 90 A 80 80 0 0 1 180 90" fill="none" stroke="#FF4824" stroke-width="4" stroke-dasharray="0, 300"/>
                            <line id="gauge-needle" x1="100" y1="90" x2="100" y2="20" stroke="#fff" stroke-width="1" />
                            <path id="gauge-area" d="M100 90 L100 20 A 70 70 0 0 1 170 90 Z" fill="url(#hatch)" opacity="0" />
                            <defs>
                                <pattern id="hatch" width="4" height="4" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
                                    <rect width="2" height="4" transform="translate(0,0)" fill="#FF4824"></rect>
                                </pattern>
                            </defs>
                        </svg>
                    </div>
                    <div class="data-readout">
                        <div>Analisi Logica: <span id="val-logic">100%</span></div>
                        <div>Accettazione Subconscia: <span id="val-sub">0%</span></div>
                    </div>
                </div>

                <div class="dash-card">
                    <span class="dash-label">Potenziale di Diffusione (Viral Factor)</span>
                    <div class="viz-container">
                        <svg viewBox="0 0 200 100" class="graph-svg">
                            <line x1="10" y1="90" x2="190" y2="90" stroke="#666" />
                            <line x1="10" y1="10" x2="10" y2="90" stroke="#666" />
                            <path id="viral-curve" d="M10 90 Q 50 90 180 20" fill="none" stroke="#FF4824" stroke-width="2" />
                            <circle id="viral-dot" cx="180" cy="20" r="3" fill="#FF4824" />
                        </svg>
                    </div>
                    <p class="dash-desc align-right">Viralità stimata: <span id="val-viral" class="big-stat">1.0x</span></p>
                </div>

                <div class="dash-card full-width">
                    <span class="dash-label">Frammentazione Consenso (Echo Chambers)</span>
                    <div class="viz-container center-flex">
                        <svg viewBox="0 0 300 100" class="graph-svg">
                            <circle id="venn-left" cx="130" cy="50" r="40" fill="none" stroke="#FF4824" stroke-width="1.5" />
                            <circle id="venn-right" cx="170" cy="50" r="40" fill="none" stroke="#FF4824" stroke-width="1.5" />
                            <path id="venn-conflict" d="M150 20 L150 80" stroke="#FF4824" stroke-width="1" stroke-dasharray="2,2" opacity="0.5"/>
                        </svg>
                    </div>
                    <p class="dash-desc center-text">Coesione Sociale: <span id="val-cohesion">-0%</span>. <br>Alta probabilità di polarizzazione irreversibile.</p>
                </div>

            </div>

            <div class="final-action-area">
                <div class="blink-warning">SIMULAZIONE IMPATTO COMPLETATA</div>
                <button id="btn-confirm-publish" class="scan-effect-btn">PREMERE A LUNGO PER CONFERMARE</button>
            </div>

        </div>
    </section>

    <script type="module" src="js/main.js"></script>
</body>
</html>